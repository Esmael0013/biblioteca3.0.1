<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Gerenciamento de Biblioteca</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="LogoColegio.png">
</head>
<body>
    <h1>Gerenciamento de Biblioteca</h1>
    <nav>
        <button onclick="showTab('emprestimos')"><i class="fas fa-book"></i> Empréstimos</button>
        <button onclick="showTab('historico')"><i class="fas fa-history"></i> Histórico</button>
        <button onclick="exportData()"><i class="fas fa-file-export"></i> Exportar JSON</button>
        <input type="file" id="importFile" accept=".json" onchange="importData(event)" style="display: none;">
        <button onclick="document.getElementById('importFile').click()"><i class="fas fa-file-import"></i> Importar JSON</button>
    </nav>
    <section id="emprestimos" class="tab-content">
        <h2>Empréstimos</h2>
        <form id="emprestimoForm">
            <label for="nomeAluno">Nome do Aluno:</label>
            <input type="text" id="nomeAluno" name="nomeAluno"><br>

            <label for="numeroAluno">Série:</label>
            <input type="text" id="numeroAluno" name="numeroAluno" maxlength="2"><br>

            <label for="numeroCGM">Número CGM:</label>
            <input type="text" id="numeroCGM" name="numeroCGM"><br>

            <label for="nomeLivro">Nome do Livro:</label>
            <input type="text" id="nomeLivro" name="nomeLivro"><br>

            <label for="numeroLivro">Número do Livro:</label>
            <input type="text" id="numeroLivro" name="numeroLivro"><br>

            <label for="dataEntrega">Data de Entrega:</label>
            <input type="date" id="dataEntrega" name="dataEntrega"><br>

            <button type="submit">Registrar Empréstimo</button>
        </form>
        <input type="text" id="searchInput" placeholder="Pesquisar por nome do aluno ou livro" class="search-input">

        <table id="emprestimosTable">
            <thead>
                <tr>
                    <th>Nome do Aluno</th>
                    <th>Série</th>
                    <th>Número CGM</th>
                    <th>Nome do Livro</th>
                    <th>Número do Livro</th>
                    <th>Data de Entrega</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                <!-- Empréstimos ativos serão adicionados aqui -->
            </tbody>
        </table>
    </section>

    <section id="historico" class="tab-content">
        <h2>Histórico de Empréstimos</h2>
        <input type="text" id="historicoSearchInput" placeholder="Pesquisar histórico" class="search-input">
        <input type="date" id="historicoDateInput" placeholder="Pesquisar por data" class="search-input">
        <button id="clearHistoricoButton" class="btn-clear">Apagar Todo o Histórico</button>
        <table id="historicoTable">
            <thead>
                <tr>
                    <th>Nome do Aluno</th>
                    <th>Série</th>
                    <th>Número CGM</th>
                    <th>Nome do Livro</th>
                    <th>Número do Livro</th>
                    <th>Data de Entrega</th>
                </tr>
            </thead>
            <tbody>
                <!-- Empréstimos devolvidos serão adicionados aqui -->
            </tbody>
        </table>
    </section>
    
    <!-- Adicione a referência ao novo arquivo de script -->
    <script src="searchHistorico.js"></script>
    

    <script src="tabs.js"></script>
    <script src="emprestimos.js"></script>
</body>
</html>
